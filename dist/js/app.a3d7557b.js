webpackJsonp([1],{0:function(e,t,n){e.exports=n("NHnr")},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("tvR6");var o=n("7+uW"),s=n("zL8q"),i=n.n(s),a=n("Biqn"),r=n.n(a),l=(n("MfeA"),n("VjuZ"),n("NYxO")),c=/(?!^\/[\w\d]+)(\/[\w\d]+)/g,u={data:function(){return{tabs:[{label:"Главная страницы",link:"/home"},{label:"Разделы",link:"/pages"},{label:"Блоки",link:"/blocks"},{label:"Задания",link:"/tasks"}]}},computed:{activeTab:function(){return this.$route.path.replace(c,"")},isTabDisabled:function(){return!!this.$route.path.match(c)}},methods:r()({},Object(l["b"])("pages",["getPages"]),Object(l["b"])("blocks",["getBlocks"]),Object(l["b"])("tasks",["getTasks"]),Object(l["b"])("home",["getHome"]),{handleTabClick:function(e){this.$router.push({path:this.tabs[e.index].link})}}),created:function(){this.getPages(),this.getBlocks(),this.getTasks(),this.getHome()}},d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("h1",[e._v("Multimodal Chinese Admin Page")])])],1),n("el-main",{staticStyle:{"max-width":"960px","min-width":"640px"}},[n("el-tabs",{attrs:{type:"card","active-name":e.activeTab},on:{"tab-click":e.handleTabClick}},e._l(e.tabs,function(t){return n("el-tab-pane",{key:t.id,attrs:{disabled:e.isTabDisabled,name:t.link,label:t.label}})})),n("router-view")],1)],1)},m=[],p=n("XyMi"),f=!1,h=null,g=null,k=null,v=Object(p["a"])(u,d,m,f,h,g,k),b=v.exports,y={data:function(){return{formName:"form",form:{email:"",password:""},rules:{email:[{required:!0,message:"Ввевидте email",trigger:"blur"}],password:[{required:!0,message:"Ввевидте пароль",trigger:"blur"}]}}},methods:r()({},Object(l["b"])("user",["signIn"]),{signInHandler:function(){var e=this;this.$refs[this.formName].validate(function(t){t&&e.signIn(e.form)})}})},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("h1",[e._v("Login Page")])])],1),n("el-main",[n("el-row",{staticStyle:{"margin-top":"200px"},attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{xs:20,sm:16,md:10,lg:6}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"100px",rules:e.rules}},[n("el-form-item",{attrs:{label:"Email",prop:"email"}},[n("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("el-form-item",{attrs:{label:"Пароль",prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{xs:10,sm:6,md:4,lg:2}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.signInHandler()}}},[e._v("\n                    Войти\n                ")])],1)],1)],1)],1)},x=[],_=!1,T=null,E=null,$=null,B=Object(p["a"])(y,w,x,_,T,E,$),H=B.exports,S=n("/ocq"),j={},I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},O=[],P=!1,C=null,N=null,F=null,q=Object(p["a"])(j,I,O,P,C,N,F),R=q.exports,Q=(n("SldL"),n("7hDC")),z=n.n(Q),A={data:function(){return{selectedId:null,loading:!1}},computed:r()({},Object(l["d"])("pages",["pages"])),methods:r()({},Object(l["b"])("pages",["getPages","setSelectedPage"]),{edit:function(){var e=z()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setSelectedPage(t);case 2:this.$router.push("/pages/edit");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=z()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setSelectedPage(null);case 2:this.$router.push("/pages/create");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),created:function(){var e=this,t=setTimeout(function(){e.loading=!0},300);this.getPages().catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(t),e.loading=!1})}},L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.pages.length,expression:"!pages.length"}],attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[e._v("Пока не создано ни одного раздела")])])],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.pages.length,expression:"pages.length"}],staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[e._v("Разделы: ")]),e._l(e.pages,function(t){return n("div",{key:t.id,staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[e._v(e._s(t.title))]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(n){e.edit(t.id)}}})],1)})],2)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create()}}},[e._v("Создать раздел")])],1)],1)],1)},U=[],D=!1,M=null,V=null,J=null,W=Object(p["a"])(A,L,U,D,M,V,J),X=W.exports,Z={data:function(){return{selectedId:null,loading:!1}},computed:r()({},Object(l["d"])("blocks",["blocks"])),methods:r()({},Object(l["b"])("blocks",["getBlocks","setSelectedBlock"]),{edit:function(){var e=z()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setSelectedBlock(t);case 2:this.$router.push("/blocks/edit");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=z()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setSelectedBlock(null);case 2:this.$router.push("/blocks/create");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),created:function(){var e=this,t=setTimeout(function(){e.loading=!0},300);this.getBlocks().catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(t),e.loading=!1})}},Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.blocks.length,expression:"!blocks.length"}],attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[e._v("Пока не создано ни одного блока")])])],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.blocks.length,expression:"blocks.length"}],staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[e._v("Блоки: ")]),e._l(e.blocks,function(t){return n("div",{key:t.id,staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[e._v(e._s(t.title))]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(n){e.edit(t.id)}}})],1)})],2)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create()}}},[e._v("Создать блок")])],1)],1)],1)},G=[],K=!1,ee=null,te=null,ne=null,oe=Object(p["a"])(Z,Y,G,K,ee,te,ne),se=oe.exports,ie=(n("WpTh"),{data:function(){return{selectedId:null,loading:!1}},computed:r()({},Object(l["d"])("tasks",["tasks"]),Object(l["d"])("blocks",["blocks"])),methods:r()({},Object(l["b"])("tasks",["getTasks","setSelectedTask"]),{getBlockTitle:function(e){var t=this.blocks.find(function(t){return t.id===e});return t?t.title:"Блок не найден"},edit:function(){var e=z()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setSelectedTask(t);case 2:this.$router.push("/tasks/edit");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=z()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setSelectedTask(null);case 2:this.$router.push("/tasks/create");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),created:function(){var e=this,t=setTimeout(function(){e.loading=!0},300);this.getTasks().catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(t),e.loading=!1})}}),ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.tasks.length,expression:"!tasks.length"}],attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[e._v("Пока не создано ни одного задания")])])],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.tasks.length,expression:"tasks.length"}],staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[e._v("Задания: ")]),e._l(e.tasks,function(t){return n("div",{key:t.id,staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[e._v(e._s(t.title)+" ("+e._s(e.getBlockTitle(t.blockId))+")")]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(n){e.edit(t.id)}}})],1)})],2)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create()}}},[e._v("Создать задание")])],1)],1)],1)},re=[],le=!1,ce=null,ue=null,de=null,me=Object(p["a"])(ie,ae,re,le,ce,ue,de),pe=me.exports,fe={data:function(){return{loading:!1}},computed:r()({},Object(l["d"])("home",["home"])),methods:r()({},Object(l["b"])("home",["getHome"]),{edit:function(){var e=z()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/home/edit");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=z()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/home/create");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),created:function(){var e=this,t=setTimeout(function(){e.loading=!0},300);this.getHome().catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(t),e.loading=!1})}},he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.home?e._e():n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[e._v("Пока не создано главной страницы")])])],1),e.home?n("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[e._v("Главная страница: ")]),n("div",{staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[e._v(e._s(e.home.title))]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){e.edit(e.home.id)}}})],1)])],1):e._e(),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[e.home?e._e():n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create()}}},[e._v("Создать домашнее описание")])],1)],1)],1)},ge=[],ke=!1,ve=null,be=null,ye=null,we=Object(p["a"])(fe,he,ge,ke,ve,be,ye),xe=we.exports,_e={name:"createEditPageComponent",props:["page","isEdit"],data:function(){return{loading:!1,formName:"form",form:this.page?{id:this.page.id,title:this.page.title}:{title:""},rules:{title:[{required:!0,message:"Ввевидте название раздела",trigger:"blur"},{max:100,message:"Название раздела должно содержать не более 100 символов",trigger:"blur"}]}}},computed:{title:function(){return this.isEdit?"Редактирование раздела":"Создание раздела"},button:function(){return this.isEdit?"Сохранить":"Создать"}},methods:r()({},Object(l["b"])("pages",["createPage","editPage","deletePage"]),{reset:function(){this.$refs[this.formName].resetFields()},close:function(){this.reset(),this.$router.push("/pages")},createHandler:function(){var e=this;this.$refs[this.formName].validate(function(t){if(t){var n=setTimeout(function(){e.loading=!0},300);(e.isEdit?e.editPage(e.form):e.createPage(e.form)).then(function(){e.$notify({title:"Success",type:"success",message:"Раздел успешно ".concat(e.isEdit?"сохранен":"создан")}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(n),e.loading=!1})}})},deleteHandler:function(){var e=this;this.$msgbox({title:"Удаление раздела",message:'Вы уверены что хотите удалить раздел "'.concat(this.page.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.deletePage(e.page).then(function(){e.$notify({title:"Success",type:"success",message:'Раздел "'.concat(e.page.title,'" успешно удален')}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})})})}})},Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.title))]),n("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"150px",rules:e.rules}},[n("el-form-item",{attrs:{label:"Название раздела",prop:"title"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createHandler()}}},[e._v(e._s(e.button))]),n("el-button",{on:{click:function(t){e.close()}}},[e._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(t){e.deleteHandler()}}},[e._v("Удалить")])],1)],1)],1)},Ee=[],$e=!1,Be=null,He=null,Se=null,je=Object(p["a"])(_e,Te,Ee,$e,Be,He,Se),Ie=je.exports,Oe={components:{CreateEditPageComponent:Ie},props:{isEdit:{type:Boolean,default:!1}},computed:r()({},Object(l["c"])("pages",["selectedPage"])),mounted:function(){!this.selectedPage&&this.isEdit&&this.$router.push("/pages")}},Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CreateEditPageComponent",{attrs:{page:e.isEdit?e.selectedPage:null,"is-edit":e.isEdit}})],1)},Ce=[],Ne=!1,Fe=null,qe=null,Re=null,Qe=Object(p["a"])(Oe,Pe,Ce,Ne,Fe,qe,Re),ze=Qe.exports,Ae={props:["block","isEdit"],data:function(){return{loading:!1,formName:"form",form:this.block?{id:this.block.id,title:this.block.title,pageId:this.block.pageId}:{title:"",pageId:null},rules:{title:[{required:!0,message:"Ввевидте название блока",trigger:"blur"},{max:100,message:"Название блока должно содержать не более 100 символов",trigger:"blur"}],pageId:[{required:!0,message:"Выберите раздел",trigger:"blur"}]}}},computed:r()({},Object(l["d"])("pages",["pages"]),{title:function(){return this.isEdit?"Редактирование блока":"Создание блока"},button:function(){return this.isEdit?"Сохранить":"Создать"}}),methods:r()({},Object(l["b"])("blocks",["createBlock","editBlock","deleteBlock"]),{reset:function(){this.$refs[this.formName].resetFields()},close:function(){this.reset(),this.$router.push("/blocks")},createHandler:function(){var e=this;this.$refs[this.formName].validate(function(t){if(t){var n=setTimeout(function(){e.loading=!0},300);(e.isEdit?e.editBlock(e.form):e.createBlock(e.form)).then(function(){e.$notify({title:"Success",type:"success",message:"Блок успешно ".concat(e.isEdit?"сохранен":"создан")}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(n),e.loading=!1})}})},deleteHandler:function(){var e=this;this.$msgbox({title:"Удаление блока",message:'Вы уверены что хотите удалить блок "'.concat(this.block.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.deleteBlock(e.block).then(function(){e.$notify({title:"Success",type:"success",message:'Блок "'.concat(e.block.title,'" успешно удален')}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})})})}})},Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.title))]),n("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"150px",rules:e.rules}},[n("el-form-item",{attrs:{label:"Название блока",prop:"title"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"Раздел",prop:"pageId"}},[n("el-select",{attrs:{placeholder:"Выберите раздел"},model:{value:e.form.pageId,callback:function(t){e.$set(e.form,"pageId",t)},expression:"form.pageId"}},e._l(e.pages,function(e){return n("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],1)],1),n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createHandler()}}},[e._v(e._s(e.button))]),n("el-button",{on:{click:function(t){e.close()}}},[e._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(t){e.deleteHandler()}}},[e._v("Удалить")])],1)],1)],1)},Ue=[],De=!1,Me=null,Ve=null,Je=null,We=Object(p["a"])(Ae,Le,Ue,De,Me,Ve,Je),Xe=We.exports,Ze={components:{CreateEditBlockComponent:Xe},props:{isEdit:{type:Boolean,default:!1}},computed:r()({},Object(l["c"])("blocks",["selectedBlock"])),mounted:function(){!this.selectedBlock&&this.isEdit&&this.$router.push("/blocks")}},Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CreateEditBlockComponent",{attrs:{block:e.isEdit?e.selectedBlock:null,"is-edit":e.isEdit}})],1)},Ge=[],Ke=!1,et=null,tt=null,nt=null,ot=Object(p["a"])(Ze,Ye,Ge,Ke,et,tt,nt),st=ot.exports,it=(n("EuXz"),function(e){return JSON.parse(JSON.stringify(e))}),at={url:""},rt={answer:"",isCorrect:!1},lt={question:"",answers:[it(rt)]},ct={description:"",videos:[],images:[],test:[],checkTestByBtn:!0},ut={props:["task","isEdit"],data:function(){return{loading:!1,taskForm:this.task?{id:this.task.id,title:this.task.title,blockId:this.task.blockId,text:this.task.text,additionalQuestion:this.task.additionalQuestion,comment:this.task.comment,questions:this.task.questions}:{title:"",blockId:null,text:"",additionalQuestion:"",comment:"",questions:[]},taskRules:{title:[{required:!0,message:"Ввевидте название задания",trigger:"blur"},{max:100,message:"Название задания должно содержать не более 100 символов",trigger:"blur"}],blockId:[{required:!0,message:"Выберите раздел",trigger:"blur"}],text:[],additionalQuestion:[],comment:[]},testRules:{question:[{required:!0,message:"Ввевидте вопрос",trigger:"blur"}]},answerRules:{answer:[{required:!0,message:"Ввевидте ответ",trigger:"blur"}]}}},computed:r()({},Object(l["d"])("blocks",["blocks"]),{title:function(){return this.isEdit?"Редактирование задания":"Создание задания"},button:function(){return this.isEdit?"Сохранить":"Создать"}}),methods:r()({},Object(l["b"])("tasks",["createTask","editTask","deleteTask"]),{deleteTestHandler:function(e){this.$msgbox({title:"Удаление теста",message:"Вы уверены что хотите удалить тест целиком????",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.test=[]})},addTestQuestionHandler:function(e){e.push(it(lt))},deleteTestQuestionHandler:function(e,t){this.$msgbox({title:"Удаление вопроса",message:"Вы уверены что хотите удалить вопрос из теста?",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.splice(t,1)})},addAnswerHandler:function(e){e.push(it(rt))},deleteAnswerHandler:function(e,t){this.$msgbox({title:"Удаление вопроса",message:"Вы уверены что хотите удалить ответ на вопрос из теста?",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.splice(t,1)})},filesChangeHandler:function(e,t,n){var o=new FileReader;o.onload=function(){n.images.push({name:e.raw.name,type:e.raw.type,size:e.raw.size,uid:e.raw.uid,data:o.result})},o.readAsDataURL(e.raw)},filesDeleteHandler:function(e,t,n){n.images=n.images.filter(function(t){return t.uid!==e.uid})},addVideoHandler:function(e){e.push(it(at))},addQuestionHandler:function(e){e.push(it(ct))},removeVideoHandler:function(e,t){e.splice(t,1)},deleteQuestionHandler:function(e,t){this.$msgbox({title:"Удаление вопроса",message:"Вы уверены что хотите удалить вопрос?",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.splice(t,1)})},reset:function(){this.$refs.taskForm.resetFields()},close:function(){this.reset(),this.$router.push("/tasks")},createEditHandler:function(){var e=this;this.$refs.taskForm.validate(function(t){if(t){var n=setTimeout(function(){e.loading=!0},300);(e.isEdit?e.editTask(e.taskForm):e.createTask(e.taskForm)).then(function(){e.$notify({title:"Success",type:"success",message:"Задание успешно ".concat(e.isEdit?"сохранено":"создано")}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(n),e.loading=!1})}})},deleteHandler:function(){var e=this;this.$msgbox({title:"Удаление заданиея",message:'Вы уверены что хотите удалить задание "'.concat(this.task.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.deleteTask(e.task).then(function(){e.$notify({title:"Success",type:"success",message:'Задание "'.concat(e.task.title,'" успешно удалено')}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})})})}})},dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.title))]),n("el-form",{ref:"taskForm",attrs:{model:e.taskForm,"label-position":"left","label-width":"150px",rules:e.taskRules}},[n("el-collapse",[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("h2",[e._v("Основное")])]),n("el-form-item",{attrs:{label:"Название задания",prop:"title"}},[n("el-input",{model:{value:e.taskForm.title,callback:function(t){e.$set(e.taskForm,"title",t)},expression:"taskForm.title"}})],1),n("el-form-item",{attrs:{label:"Блок",prop:"blockId"}},[n("el-select",{attrs:{placeholder:"Выберите блок"},model:{value:e.taskForm.blockId,callback:function(t){e.$set(e.taskForm,"blockId",t)},expression:"taskForm.blockId"}},e._l(e.blocks,function(e){return n("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],1),n("el-form-item",{attrs:{label:"Основной текст",prop:"text"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.taskForm.text,callback:function(t){e.$set(e.taskForm,"text",t)},expression:"taskForm.text"}})],1),n("el-form-item",{attrs:{label:"Дополнительные вопросы",prop:"additionalQuestion"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.taskForm.additionalQuestion,callback:function(t){e.$set(e.taskForm,"additionalQuestion",t)},expression:"taskForm.additionalQuestion"}})],1),n("el-form-item",{attrs:{label:"Комментарии",prop:"comment"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.taskForm.comment,callback:function(t){e.$set(e.taskForm,"comment",t)},expression:"taskForm.comment"}})],1)],2),n("el-collapse-item",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("h2",[e._v("Вопросы")])]),e._l(e.taskForm.questions,function(t,o){return n("el-row",{key:t.id,staticStyle:{"margin-left":"30px"},attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-collapse",[n("el-collapse-item",[n("template",{slot:"title"},[n("h2",[e._v(e._s(o+1)+":")])]),n("el-form-item",{attrs:{label:"Описание вопроса"}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.description,callback:function(n){e.$set(t,"description",n)},expression:"question.description"}})],1),n("h3",[e._v("Видео:")]),e._l(t.videos,function(o,s){return n("el-form-item",{key:s,attrs:{label:"Ссылка на видео "+(s+1)}},[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("el-input",{model:{value:o.url,callback:function(t){e.$set(o,"url",t)},expression:"video.url"}})],1),n("el-col",[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",title:"Удалить Видео"},on:{click:function(n){e.removeVideoHandler(t.videos,s)}}})],1)],1)],1)}),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",title:"Добавить еще"},on:{click:function(n){e.addVideoHandler(t.videos)}}}),n("h3",[e._v("Картинки:")]),n("el-upload",{ref:"upload",refInFor:!0,staticStyle:{"margin-top":"20px"},attrs:{action:"",multiple:!0,"auto-upload":!1,"file-list":t.images,"on-change":function(n,o){return e.filesChangeHandler(n,o,t)},"on-remove":function(n,o){return e.filesDeleteHandler(n,o,t)},"list-type":"text"}},[n("el-button",{attrs:{type:"primary",circle:"",title:"Загрузить картинки",icon:"el-icon-upload"}})],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.test.length,expression:"question.test.length"}],staticStyle:{"margin-top":"20px"},attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-collapse",[n("el-collapse-item",[n("template",{slot:"title"},[n("h3",[e._v("Тест:")])]),n("el-form-item",{attrs:{label:"Проверка теста по кнопке"}},[n("el-checkbox",{model:{value:t.checkTestByBtn,callback:function(n){e.$set(t,"checkTestByBtn",n)},expression:"question.checkTestByBtn"}})],1),e._l(t.test,function(o,s){return n("div",{key:o.id,staticStyle:{"margin-left":"30px"}},[n("el-row",{attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-collapse",[n("el-collapse-item",[n("template",{slot:"title"},[n("h3",[e._v("Вопрос: "+e._s(s+1))])]),n("el-form-item",{attrs:{label:"Вопрос"}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:o.question,callback:function(t){e.$set(o,"question",t)},expression:"testItem.question"}})],1),n("h3",[e._v("Ответы:")]),e._l(o.answers,function(t,s){return n("div",{key:t.id},[n("el-row",{attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-form-item",{attrs:{label:"Ответ "+(s+1)}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.answer,callback:function(n){e.$set(t,"answer",n)},expression:"answer.answer"}})],1),n("el-form-item",{attrs:{label:"Правильный ответ"}},[n("el-checkbox",{model:{value:t.isCorrect,callback:function(n){e.$set(t,"isCorrect",n)},expression:"answer.isCorrect"}})],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:o.answers.length>1,expression:"testItem.answers.length > 1"}],staticStyle:{"margin-left":"20px"},attrs:{type:"danger",circle:"",title:"Удалить ответ",icon:"el-icon-delete"},on:{click:function(t){e.deleteAnswerHandler(o.answers,s)}}})],1)],1)],1)}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить ответ"},on:{click:function(t){e.addAnswerHandler(o.answers)}}},[e._v("\n                                                                        Добавить ответ\n                                                                    ")])],2)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",circle:"",title:"Удалить вопрос",icon:"el-icon-delete"},on:{click:function(n){e.deleteTestQuestionHandler(t.test,s)}}})],1)],1)],1)}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить вопрос в тест"},on:{click:function(n){e.addTestQuestionHandler(t.test)}}},[e._v("\n                                                    Добавить вопрос в тест\n                                                ")])],2)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",circle:"",title:"Удалить тест",icon:"el-icon-delete"},on:{click:function(n){e.deleteTestHandler(t)}}})],1)],1),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.test.length,expression:"!question.test.length"}],staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить тест"},on:{click:function(n){e.addTestQuestionHandler(t.test)}}},[e._v("\n                                    Добавить тест\n                                ")])],2)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.taskForm.questions.length>1,expression:"taskForm.questions.length > 1"}],staticStyle:{"margin-top":"20px"},attrs:{type:"danger",circle:"",icon:"el-icon-delete",title:"Удалить вопрос"},on:{click:function(t){e.deleteQuestionHandler(e.taskForm.questions,o)}}})],1)],1)}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить вопрос"},on:{click:function(t){e.addQuestionHandler(e.taskForm.questions)}}},[e._v("\n                    Добавить вопрос\n                ")])],2)],1)],1),n("el-row",{staticStyle:{"margin-top":"30px"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createEditHandler()}}},[e._v(e._s(e.button))]),n("el-button",{on:{click:function(t){e.close()}}},[e._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(t){e.deleteHandler()}}},[e._v("Удалить\n            ")])],1)],1)],1)},mt=[],pt=!1,ft=null,ht=null,gt=null,kt=Object(p["a"])(ut,dt,mt,pt,ft,ht,gt),vt=kt.exports,bt={components:{CreateEditTaskComponent:vt},props:{isEdit:{type:Boolean,default:!1}},computed:r()({},Object(l["c"])("tasks",["selectedTask"])),mounted:function(){!this.selectedTask&&this.isEdit&&this.$router.push("/tasks")}},yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CreateEditTaskComponent",{attrs:{task:e.isEdit?e.selectedTask:null,"is-edit":e.isEdit}})],1)},wt=[],xt=!1,_t=null,Tt=null,Et=null,$t=Object(p["a"])(bt,yt,wt,xt,_t,Tt,Et),Bt=$t.exports,Ht={name:"createEditHomeComponent",props:["home","isEdit"],data:function(){return{loading:!1,formName:"form",form:this.home?{id:this.home.id,title:this.home.title,welcome:this.home.welcome,text:this.home.text}:{title:"",welcome:"",text:""},rules:{title:[{required:!0,message:"Ввевидте название главная страница",trigger:"blur"},{max:100,message:"Название главная страница должно содержать не более 100 символов",trigger:"blur"}],welcome:[{required:!0,message:"Ввевидте название главная страница",trigger:"blur"},{max:100,message:"Название главная страница должно содержать не более 100 символов",trigger:"blur"}]}}},computed:{title:function(){return this.isEdit?"Редактирование главная страница":"Создание главная страница"},button:function(){return this.isEdit?"Сохранить":"Создать"}},methods:r()({},Object(l["b"])("home",["createHome","editHome","deleteHome"]),{reset:function(){this.$refs[this.formName].resetFields()},close:function(){this.reset(),this.$router.push("/home")},createHandler:function(){var e=this;this.$refs[this.formName].validate(function(t){if(t){var n=setTimeout(function(){e.loading=!0},300);(e.isEdit?e.editHome(e.form):e.createHome(e.form)).then(function(){e.$notify({title:"Success",type:"success",message:"Главная страница успешно ".concat(e.isEdit?"сохранен":"создан")}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})}).finally(function(){clearTimeout(n),e.loading=!1})}})},deleteHandler:function(){var e=this;this.$msgbox({title:"Удаление главная страница",message:'Вы уверены что хотите удалить главная страница"'.concat(this.home.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){e.deleteHome(e.home).then(function(){e.$notify({title:"Success",type:"success",message:'Главная страница "'.concat(e.home.title,'" успешно удален')}),e.close()}).catch(function(t){e.$notify({title:"Error",type:"error",message:"".concat(t.message,": ").concat(t.response.data),duration:0})})})}})},St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.title))]),n("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"150px",rules:e.rules}},[n("el-form-item",{attrs:{label:"Название сайта",prop:"title"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"Приветствие",prop:"welcome"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.welcome,callback:function(t){e.$set(e.form,"welcome",t)},expression:"form.welcome"}})],1),n("el-form-item",{attrs:{label:"Описание в HTML",prop:"text"}},[n("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1),n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createHandler()}}},[e._v(e._s(e.button))]),n("el-button",{on:{click:function(t){e.close()}}},[e._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(t){e.deleteHandler()}}},[e._v("Удалить")])],1)],1)],1)},jt=[],It=!1,Ot=null,Pt=null,Ct=null,Nt=Object(p["a"])(Ht,St,jt,It,Ot,Pt,Ct),Ft=Nt.exports,qt={components:{CreateEditHomeComponent:Ft},props:{isEdit:{type:Boolean,default:!1}},computed:r()({},Object(l["d"])("home",["home"])),mounted:function(){!this.home&&this.isEdit&&this.$router.push("/home")}},Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CreateEditHomeComponent",{attrs:{home:e.isEdit?e.home:null,"is-edit":e.isEdit}})],1)},Qt=[],zt=!1,At=null,Lt=null,Ut=null,Dt=Object(p["a"])(qt,Rt,Qt,zt,At,Lt,Ut),Mt=Dt.exports;o["default"].use(S["a"]);var Vt={app:new S["a"]({mode:"history",routes:[{path:"/home",component:R,children:[{path:"/",name:"home",component:xe},{path:"create",name:"createHome",component:Mt,props:{isEdit:!1}},{path:"edit",name:"editHome",component:Mt,props:{isEdit:!0}},{path:"*",redirect:"/home"}]},{path:"/pages",component:R,children:[{path:"/",name:"pages",component:X},{path:"create",name:"createPage",component:ze,props:{isEdit:!1}},{path:"edit",name:"editPage",component:ze,props:{isEdit:!0}},{path:"*",redirect:"/pages"}]},{path:"/blocks",component:R,children:[{path:"/",name:"blocks",component:se},{path:"create",name:"createBlock",component:st,props:{isEdit:!1}},{path:"edit",name:"editBlock",component:st,props:{isEdit:!0}},{path:"*",redirect:"/blocks"}]},{path:"/tasks",component:R,children:[{path:"/",name:"tasks",component:pe},{path:"create",name:"createTask",component:Bt,props:{isEdit:!1}},{path:"edit",name:"editTask",component:Bt,props:{isEdit:!0}},{path:"*",redirect:"/tasks"}]},{path:"*",redirect:"/home"}]}),login:new S["a"]({mode:"history",routes:[{path:"*",redirect:"/login"},{path:"/login",name:"login"}]})},Jt={apiURL:"https://checkurchinese-api.herokuapp.com/",tokenName:"token"},Wt=n("Z60a"),Xt=n.n(Wt),Zt=n("C9uT"),Yt=n.n(Zt),Gt=n("mtWM"),Kt=n.n(Gt),en=Jt.apiURL,tn=Jt.tokenName,nn=window.localStorage.getItem(tn),on=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xt()(this,e),this.http=Kt.a.create({baseURL:en||t,headers:{common:r()({Authorization:nn||""},n.common),post:r()({"Content-Type":"application/json"},n.post)}})}return Yt()(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.get(e,{params:t,headers:n}).then(function(e){return e.data})}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.post(e,t,{params:n,headers:o}).then(function(e){return e.data})}},{key:"put",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.put(e,t,{params:n,headers:o}).then(function(e){return e.data})}},{key:"patch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.patch(e,t,{params:n,headers:o}).then(function(e){return e.data})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.delete(e,{params:t,headers:n}).then(function(e){return e.data})}}]),e}(),sn=new on,an={namespaced:!0,state:{user:null},mutations:{setUser:function(e,t){e.user=t}},actions:{setUser:function(e,t){var n=e.commit;n("setUser",t)},signIn:function(e,t){return sn.post("/auth/in",t).then(function(e){window.localStorage.setItem(Jt.tokenName,e),window.location="/"})}}},rn=new on,ln={namespaced:!0,state:{selectedPageId:null,pages:[]},getters:{selectedPage:function(e){return e.pages.find(function(t){return t.id===e.selectedPageId})}},mutations:{setPages:function(e,t){e.pages=t},setSelectedPage:function(e,t){e.selectedPageId=t}},actions:{setPages:function(e,t){var n=e.commit;n("setPages",t)},setSelectedPage:function(e,t){var n=e.commit;n("setSelectedPage",t)},getPages:function(e){var t=e.dispatch;return rn.get("/page").then(function(e){t("setPages",e)})},createPage:function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rn.put("/page",n).then(function(){t("getPages")})},editPage:function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.id,s=n.title;return rn.patch("/page/".concat(o),{id:o,title:s}).then(function(){t("getPages")})},deletePage:function(e,t){var n=e.dispatch,o=t.id;return rn.delete("/page/".concat(o)).then(function(){n("getPages")})}}},cn=new on,un={namespaced:!0,state:{selectedBlockId:null,blocks:[]},getters:{selectedBlock:function(e){return e.blocks.find(function(t){return t.id===e.selectedBlockId})}},mutations:{setBlocks:function(e,t){e.blocks=t},setSelectedBlock:function(e,t){e.selectedBlockId=t}},actions:{setBlocks:function(e,t){var n=e.commit;n("setBlocks",t)},setSelectedBlock:function(e,t){var n=e.commit;n("setSelectedBlock",t)},getBlocks:function(e){var t=e.dispatch;return cn.get("/block").then(function(e){t("setBlocks",e)})},createBlock:function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cn.put("/block",n).then(function(){t("getBlocks")})},editBlock:function(){var e=z()(regeneratorRuntime.mark(function e(t){var n,o,s,i,a,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,o=r.length>1&&void 0!==r[1]?r[1]:{},s=o.id,i=o.title,a=o.pageId,e.abrupt("return",cn.patch("/block/".concat(s),{id:s,title:i,pageId:a}).then(function(){n("getBlocks")}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteBlock:function(e,t){var n=e.dispatch,o=t.id,s=t.pageId;return cn.delete("/block/".concat(o,"/from/").concat(s)).then(function(){n("getBlocks")})}}},dn=new on,mn={namespaced:!0,state:{selectedTaskId:null,tasks:[]},getters:{selectedTask:function(e){return e.tasks.find(function(t){return t.id===e.selectedTaskId})}},mutations:{setTasks:function(e,t){e.tasks=t},setSelectedTask:function(e,t){e.selectedTaskId=t}},actions:{setTasks:function(e,t){var n=e.commit;n("setTasks",t)},setSelectedTask:function(e,t){var n=e.commit;n("setSelectedTask",t)},getTasks:function(e){var t=e.dispatch;return dn.get("/task").then(function(e){t("setTasks",e)})},createTask:function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dn.put("/task",n).then(function(){t("getTasks")})},editTask:function(){var e=z()(regeneratorRuntime.mark(function e(t){var n,o,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,o=s.length>1&&void 0!==s[1]?s[1]:{},e.abrupt("return",dn.patch("/task/".concat(o.id),o).then(function(){n("getTasks")}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteTask:function(e,t){var n=e.dispatch,o=t.id,s=t.taskId;return dn.delete("/task/".concat(o,"/from/").concat(s)).then(function(){n("getTasks")})}}},pn=new on,fn={namespaced:!0,state:{home:null},mutations:{setHome:function(e,t){e.home=t}},actions:{setHome:function(e,t){var n=e.commit;n("setHome",t)},getHome:function(e){var t=e.dispatch;return pn.get("/home").then(function(e){t("setHome",e)})},createHome:function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.title,s=n.welcome,i=n.text;return pn.put("/home",{title:o,welcome:s,text:i}).then(function(){t("getHome")})},editHome:function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.id,s=n.title,i=n.welcome,a=n.text;return pn.patch("/home/".concat(o),{id:o,title:s,welcome:i,text:a}).then(function(){t("getHome")})},deleteHome:function(e,t){var n=e.dispatch,o=t.id;return pn.delete("/home/".concat(o)).then(function(){n("getHome")})}}};o["default"].use(l["a"]);var hn=new l["a"].Store({modules:{user:an,pages:ln,blocks:un,tasks:mn,home:fn},state:{},mutations:{},actions:{}}),gn=new on;o["default"].use(i.a),o["default"].config.productionTip=!1,gn.get("/user").then(function(e){hn.dispatch("user/setUser",e),new o["default"]({store:hn,router:Vt.app,render:function(e){return e(b)}}).$mount("#app")}).catch(function(e){console.error(e),new o["default"]({store:hn,router:Vt.login,render:function(e){return e(H)}}).$mount("#app")})},tvR6:function(e,t){}},[0]);
//# sourceMappingURL=app.a3d7557b.js.map