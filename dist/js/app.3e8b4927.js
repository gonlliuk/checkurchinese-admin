webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("tvR6");var s=n("7+uW"),a=n("zL8q"),i=n.n(a),o=n("Biqn"),l=n.n(o),r=(n("MfeA"),n("VjuZ"),n("NYxO")),c=/(?!^\/[\w\d]+)(\/[\w\d]+)/g,u={data:function(){return{tabs:[{label:"Разделы",link:"/pages"},{label:"Блоки",link:"/blocks"},{label:"Задания",link:"/tasks"}]}},computed:{activeTab:function(){return this.$route.path.replace(c,"")},isTabDisabled:function(){return!!this.$route.path.match(c)}},methods:l()({},Object(r["b"])("pages",["getPages"]),Object(r["b"])("blocks",["getBlocks"]),Object(r["b"])("tasks",["getTasks"]),{handleTabClick:function(t){this.$router.push({path:this.tabs[t.index].link})}}),created:function(){this.getPages(),this.getBlocks(),this.getTasks()}},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("h1",[t._v("CheckUrChinese Admin Page")])])],1),n("el-main",{staticStyle:{"max-width":"960px","min-width":"640px"}},[n("el-tabs",{attrs:{type:"card","active-name":t.activeTab},on:{"tab-click":t.handleTabClick}},t._l(t.tabs,function(e){return n("el-tab-pane",{key:e.id,attrs:{disabled:t.isTabDisabled,name:e.link,label:e.label}})})),n("router-view")],1)],1)},p=[],m=n("XyMi"),f=!1,h=null,g=null,k=null,v=Object(m["a"])(u,d,p,f,h,g,k),b=v.exports,y={data:function(){return{formName:"form",form:{email:"",password:""},rules:{email:[{required:!0,message:"Ввевидте email",trigger:"blur"}],password:[{required:!0,message:"Ввевидте пароль",trigger:"blur"}]}}},methods:l()({},Object(r["b"])("user",["signIn"]),{signInHandler:function(){var t=this;this.$refs[this.formName].validate(function(e){e&&t.signIn(t.form)})}})},w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("h1",[t._v("Login Page")])])],1),n("el-main",[n("el-row",{staticStyle:{"margin-top":"200px"},attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{xs:20,sm:16,md:10,lg:6}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"100px",rules:t.rules}},[n("el-form-item",{attrs:{label:"Email",prop:"email"}},[n("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),n("el-form-item",{attrs:{label:"Пароль",prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{xs:10,sm:6,md:4,lg:2}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){t.signInHandler()}}},[t._v("\n                    Войти\n                ")])],1)],1)],1)],1)},x=[],_=!1,T=null,B=null,E=null,$=Object(m["a"])(y,w,x,_,T,B,E),S=$.exports,P=n("/ocq"),j={},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},H=[],O=!1,C=null,N=null,F=null,q=Object(m["a"])(j,I,H,O,C,N,F),R=q.exports,Q=(n("SldL"),n("7hDC")),U=n.n(Q),A={data:function(){return{selectedId:null,loading:!1}},computed:l()({},Object(r["d"])("pages",["pages"])),methods:l()({},Object(r["b"])("pages",["getPages","setSelectedPage"]),{edit:function(){var t=U()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.setSelectedPage(e);case 2:this.$router.push("/pages/edit");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),create:function(){var t=U()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.setSelectedPage(null);case 2:this.$router.push("/pages/create");case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),created:function(){var t=this,e=setTimeout(function(){t.loading=!0},300);this.getPages().catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})}).finally(function(){clearTimeout(e),t.loading=!1})}},L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:!t.pages.length,expression:"!pages.length"}],attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[t._v("Пока не создано ни одного раздела")])])],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pages.length,expression:"pages.length"}],staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[t._v("Разделы: ")]),t._l(t.pages,function(e){return n("div",{key:e.id,staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[t._v(t._s(e.title))]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(n){t.edit(e.id)}}})],1)})],2)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать раздел")])],1)],1)],1)},V=[],z=!1,D=null,M=null,W=null,Z=Object(m["a"])(A,L,V,z,D,M,W),J=Z.exports,X={data:function(){return{selectedId:null,loading:!1}},computed:l()({},Object(r["d"])("blocks",["blocks"])),methods:l()({},Object(r["b"])("blocks",["getBlocks","setSelectedBlock"]),{edit:function(t){this.setSelectedBlock(t),this.$router.push("/blocks/edit")},create:function(){this.setSelectedBlock(null),this.$router.push("/blocks/create")}}),created:function(){var t=this,e=setTimeout(function(){t.loading=!0},300);this.getBlocks().catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})}).finally(function(){clearTimeout(e),t.loading=!1})}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:!t.blocks.length,expression:"!blocks.length"}],attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[t._v("Пока не создано ни одного блока")])])],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.blocks.length,expression:"blocks.length"}],staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[t._v("Блоки: ")]),t._l(t.blocks,function(e){return n("div",{key:e.id,staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[t._v(t._s(e.title))]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(n){t.edit(e.id)}}})],1)})],2)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать блок")])],1)],1)],1)},G=[],K=!1,tt=null,et=null,nt=null,st=Object(m["a"])(X,Y,G,K,tt,et,nt),at=st.exports,it={data:function(){return{selectedId:null,loading:!1}},computed:l()({},Object(r["d"])("tasks",["tasks"])),methods:l()({},Object(r["b"])("tasks",["getTasks","setSelectedTask"]),{edit:function(t){this.setSelectedTask(t),this.$router.push("/tasks/edit")},create:function(){this.setSelectedTask(null),this.$router.push("/tasks/create")}}),created:function(){var t=this,e=setTimeout(function(){t.loading=!0},300);this.getTasks().catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})}).finally(function(){clearTimeout(e),t.loading=!1})}},ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:!t.tasks.length,expression:"!tasks.length"}],attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("h4",[t._v("Пока не создано ни одного задания")])])],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.tasks.length,expression:"tasks.length"}],staticStyle:{"margin-bottom":"20px"},attrs:{gutter:40}},[n("el-col",[n("h3",[t._v("Задания: ")]),t._l(t.tasks,function(e){return n("div",{key:e.id,staticStyle:{padding:"10px","font-size":"17px"}},[n("span",[t._v(t._s(e.title))]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(n){t.edit(e.id)}}})],1)})],2)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать задание")])],1)],1)],1)},lt=[],rt=!1,ct=null,ut=null,dt=null,pt=Object(m["a"])(it,ot,lt,rt,ct,ut,dt),mt=pt.exports,ft={name:"createEditPageComponent",props:["page","isEdit"],data:function(){return{loading:!1,formName:"form",form:this.page?{id:this.page.id,title:this.page.title}:{title:""},rules:{title:[{required:!0,message:"Ввевидте название раздела",trigger:"blur"},{max:100,message:"Название раздела должно содержать не более 100 символов",trigger:"blur"}]}}},computed:{title:function(){return this.isEdit?"Редактирование раздела":"Создание раздела"},button:function(){return this.isEdit?"Сохранить":"Создать"}},methods:l()({},Object(r["b"])("pages",["createPage","editPage","deletePage"]),{reset:function(){this.$refs[this.formName].resetFields()},close:function(){this.reset(),this.$router.push("/pages")},createHandler:function(){var t=this;this.$refs[this.formName].validate(function(e){if(e){var n=setTimeout(function(){t.loading=!0},300);(t.isEdit?t.editPage(t.form):t.createPage(t.form)).then(function(){t.$notify({title:"Success",type:"success",message:"Раздел успешно ".concat(t.isEdit?"сохранен":"создан")}),t.close()}).catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})}).finally(function(){clearTimeout(n),t.loading=!1})}})},deleteHandler:function(){var t=this;this.$msgbox({title:"Удаление раздела",message:'Вы уверены что хотите удалить раздел "'.concat(this.page.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.deletePage(t.page).then(function(){t.$notify({title:"Success",type:"success",message:'Раздел "'.concat(t.page.title,'" успешно удален')}),t.close()}).catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})})})}})},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v(t._s(t.title))]),n("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"150px",rules:t.rules}},[n("el-form-item",{attrs:{label:"Название раздела",prop:"title"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.createHandler()}}},[t._v(t._s(t.button))]),n("el-button",{on:{click:function(e){t.close()}}},[t._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(e){t.deleteHandler()}}},[t._v("Удалить")])],1)],1)],1)},gt=[],kt=!1,vt=null,bt=null,yt=null,wt=Object(m["a"])(ft,ht,gt,kt,vt,bt,yt),xt=wt.exports,_t={components:{CreateEditPageComponent:xt},props:{isEdit:{type:Boolean,default:!1}},computed:l()({},Object(r["c"])("pages",["selectedPage"]))},Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CreateEditPageComponent",{attrs:{page:t.isEdit?t.selectedPage:null,"is-edit":t.isEdit}})],1)},Bt=[],Et=!1,$t=null,St=null,Pt=null,jt=Object(m["a"])(_t,Tt,Bt,Et,$t,St,Pt),It=jt.exports,Ht={props:["block","isEdit"],data:function(){return{loading:!1,formName:"form",form:this.block?{id:this.block.id,title:this.block.title,pageId:this.block.pageId}:{title:"",pageId:null},rules:{title:[{required:!0,message:"Ввевидте название блока",trigger:"blur"},{max:100,message:"Название блока должно содержать не более 100 символов",trigger:"blur"}],pageId:[{required:!0,message:"Выберите раздел",trigger:"blur"}]}}},computed:l()({},Object(r["d"])("pages",["pages"]),{title:function(){return this.isEdit?"Редактирование блока":"Создание блока"},button:function(){return this.isEdit?"Сохранить":"Создать"}}),methods:l()({},Object(r["b"])("blocks",["createBlock","editBlock","deleteBlock"]),{reset:function(){this.$refs[this.formName].resetFields()},close:function(){this.reset(),this.$router.push("/blocks")},createHandler:function(){var t=this;this.$refs[this.formName].validate(function(e){if(e){var n=setTimeout(function(){t.loading=!0},300);(t.isEdit?t.editBlock(t.form):t.createBlock(t.form)).then(function(){t.$notify({title:"Success",type:"success",message:"Блок успешно ".concat(t.isEdit?"сохранен":"создан")}),t.close()}).catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})}).finally(function(){clearTimeout(n),t.loading=!1})}})},deleteHandler:function(){var t=this;this.$msgbox({title:"Удаление блока",message:'Вы уверены что хотите удалить блок "'.concat(this.block.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.deleteBlock(t.block).then(function(){t.$notify({title:"Success",type:"success",message:'Блок "'.concat(t.block.title,'" успешно удален')}),t.close()}).catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})})})}})},Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v(t._s(t.title))]),n("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"150px",rules:t.rules}},[n("el-form-item",{attrs:{label:"Название блока",prop:"title"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"Раздел",prop:"pageId"}},[n("el-select",{attrs:{placeholder:"Выберите раздел"},model:{value:t.form.pageId,callback:function(e){t.$set(t.form,"pageId",e)},expression:"form.pageId"}},t._l(t.pages,function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1)],1),n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.createHandler()}}},[t._v(t._s(t.button))]),n("el-button",{on:{click:function(e){t.close()}}},[t._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(e){t.deleteHandler()}}},[t._v("Удалить")])],1)],1)],1)},Ct=[],Nt=!1,Ft=null,qt=null,Rt=null,Qt=Object(m["a"])(Ht,Ot,Ct,Nt,Ft,qt,Rt),Ut=Qt.exports,At={components:{CreateEditBlockComponent:Ut},props:{isEdit:{type:Boolean,default:!1}},computed:l()({},Object(r["c"])("blocks",["selectedBlock"]))},Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CreateEditBlockComponent",{attrs:{block:t.isEdit?t.selectedBlock:null,"is-edit":t.isEdit}})],1)},Vt=[],zt=!1,Dt=null,Mt=null,Wt=null,Zt=Object(m["a"])(At,Lt,Vt,zt,Dt,Mt,Wt),Jt=Zt.exports,Xt=n("rzQm"),Yt=n.n(Xt),Gt={url:""},Kt={answer:"",isCorrect:!1},te={question:"",answers:[l()({},Kt)]},ee={description:"",videos:[],images:[],test:[],checkTestByBtn:!0},ne={props:["task","isEdit"],data:function(){return{loading:!1,taskForm:this.task?{id:this.task.id,title:this.task.title,blockId:this.task.blockId,text:this.task.text,additionalQuestion:this.task.additionalQuestion,comment:this.task.comment,questions:this.task.questions}:{title:"",blockId:null,text:"",additionalQuestion:"",comment:"",questions:[l()({},ee)]},taskRules:{title:[{required:!0,message:"Ввевидте название задания",trigger:"blur"},{max:100,message:"Название задания должно содержать не более 100 символов",trigger:"blur"}],blockId:[{required:!0,message:"Выберите раздел",trigger:"blur"}],text:[],additionalQuestion:[],comment:[]},testRules:{question:[{required:!0,message:"Ввевидте вопрос",trigger:"blur"}]},answerRules:{answer:[{required:!0,message:"Ввевидте ответ",trigger:"blur"}]}}},computed:l()({},Object(r["d"])("blocks",["blocks"]),{title:function(){return this.isEdit?"Редактирование задания":"Создание задания"},button:function(){return this.isEdit?"Сохранить":"Создать"}}),methods:l()({},Object(r["b"])("tasks",["createTask","editTask","deleteTask"]),{deleteTestHandler:function(t){this.$msgbox({title:"Удаление теста",message:"Вы уверены что хотите удалить тест целиком????",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.test=[]})},addTestQuestionHandler:function(t){t.push(l()({},te))},deleteTestQuestionHandler:function(t,e){this.$msgbox({title:"Удаление вопроса",message:"Вы уверены что хотите удалить вопрос из теста?",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.splice(e,1)})},addAnswerHandler:function(t){t.push(l()({},Kt))},deleteAnswerHandler:function(t,e){this.$msgbox({title:"Удаление вопроса",message:"Вы уверены что хотите удалить ответ на вопрос из теста?",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.splice(e,1)})},filesChangeHandler:function(t,e,n){n.images=Yt()(e)},filesDeleteHandler:function(t,e,n){n.images=Yt()(e)},addVideoHandler:function(t){t.push(l()({},Gt))},addQuestionHandler:function(t){t.push(l()({},ee))},removeVideoHandler:function(t,e){t.splice(e,1)},deleteQuestionHandler:function(t,e){this.$msgbox({title:"Удаление вопроса",message:"Вы уверены что хотите удалить вопрос?",showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.splice(e,1)})},reset:function(){this.$refs.taskForm.resetFields()},close:function(){this.reset(),this.$router.push("/tasks")},createEditHandler:function(){var t=this;this.$refs.taskForm.validate(function(e){if(e){var n=setTimeout(function(){t.loading=!0},300);(t.isEdit?t.editTask(t.taskForm):t.createTask(t.taskForm)).then(function(){t.$notify({title:"Success",type:"success",message:"Задание успешно ".concat(t.isEdit?"сохранено":"создано")}),t.close()}).catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})}).finally(function(){clearTimeout(n),t.loading=!1})}})},deleteHandler:function(){var t=this;this.$msgbox({title:"Удаление заданиея",message:'Вы уверены что хотите удалить задание "'.concat(this.task.title,'"?'),showCancelButton:!0,confirmButtonText:"Да",cancelButtonText:"Нет"}).then(function(){t.deleteTask(t.task).then(function(){t.$notify({title:"Success",type:"success",message:'Задание "'.concat(t.task.title,'" успешно удалено')}),t.close()}).catch(function(e){t.$notify({title:"Error",type:"error",message:"".concat(e.message,": ").concat(e.response.data),duration:0})})})}})},se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(t._s(t.title))]),n("el-form",{ref:"taskForm",attrs:{model:t.taskForm,"label-position":"left","label-width":"150px",rules:t.taskRules}},[n("el-collapse",[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("h2",[t._v("Основное")])]),n("el-form-item",{attrs:{label:"Название задания",prop:"title"}},[n("el-input",{model:{value:t.taskForm.title,callback:function(e){t.$set(t.taskForm,"title",e)},expression:"taskForm.title"}})],1),n("el-form-item",{attrs:{label:"Блок",prop:"blockId"}},[n("el-select",{attrs:{placeholder:"Выберите блок"},model:{value:t.taskForm.blockId,callback:function(e){t.$set(t.taskForm,"blockId",e)},expression:"taskForm.blockId"}},t._l(t.blocks,function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),n("el-form-item",{attrs:{label:"Основной текст",prop:"text"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.taskForm.text,callback:function(e){t.$set(t.taskForm,"text",e)},expression:"taskForm.text"}})],1),n("el-form-item",{attrs:{label:"Дополнительные вопросы",prop:"additionalQuestion"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.taskForm.additionalQuestion,callback:function(e){t.$set(t.taskForm,"additionalQuestion",e)},expression:"taskForm.additionalQuestion"}})],1),n("el-form-item",{attrs:{label:"Комментарии",prop:"comment"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.taskForm.comment,callback:function(e){t.$set(t.taskForm,"comment",e)},expression:"taskForm.comment"}})],1)],2),n("el-collapse-item",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("h2",[t._v("Вопросы")])]),t._l(t.taskForm.questions,function(e,s){return n("el-row",{key:e.id,staticStyle:{"margin-left":"30px"},attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-collapse",[n("el-collapse-item",[n("template",{slot:"title"},[n("h2",[t._v(t._s(s+1)+":")])]),n("el-form-item",{attrs:{label:"Описание вопроса"}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.description,callback:function(n){t.$set(e,"description",n)},expression:"question.description"}})],1),n("h3",[t._v("Видео:")]),t._l(e.videos,function(s,a){return n("el-form-item",{key:a,attrs:{label:"Ссылка на видео "+(a+1)}},[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("el-input",{model:{value:s.url,callback:function(e){t.$set(s,"url",e)},expression:"video.url"}})],1),n("el-col",[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",title:"Удалить Видео"},on:{click:function(n){t.removeVideoHandler(e.videos,a)}}})],1)],1)],1)}),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",title:"Добавить еще"},on:{click:function(n){t.addVideoHandler(e.videos)}}}),n("h3",[t._v("Картинки:")]),n("el-upload",{ref:"upload",refInFor:!0,staticStyle:{"margin-top":"20px"},attrs:{action:"",multiple:!0,"auto-upload":!1,"file-list":e.images,"on-change":function(n,s){return t.filesChangeHandler(n,s,e)},"on-remove":function(n,s){return t.filesDeleteHandler(n,s,e)},"list-type":"text"}},[n("el-button",{attrs:{type:"primary",circle:"",title:"Загрузить картинки",icon:"el-icon-upload"}})],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.test.length,expression:"question.test.length"}],staticStyle:{"margin-top":"20px"},attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-collapse",[n("el-collapse-item",[n("template",{slot:"title"},[n("h3",[t._v("Тест:")])]),n("el-form-item",{attrs:{label:"Проверка теста по кнопке"}},[n("el-checkbox",{model:{value:e.checkTestByBtn,callback:function(n){t.$set(e,"checkTestByBtn",n)},expression:"question.checkTestByBtn"}})],1),t._l(e.test,function(s,a){return n("div",{key:s.id,staticStyle:{"margin-left":"30px"}},[n("el-row",{attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-collapse",[n("el-collapse-item",[n("template",{slot:"title"},[n("h3",[t._v("Вопрос: "+t._s(a+1))])]),n("el-form-item",{attrs:{label:"Вопрос"}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:s.question,callback:function(e){t.$set(s,"question",e)},expression:"testItem.question"}})],1),n("h3",[t._v("Ответы:")]),t._l(s.answers,function(e,a){return n("div",{key:e.id},[n("el-row",{attrs:{type:"flex",align:"top"}},[n("el-col",{attrs:{span:22}},[n("el-form-item",{attrs:{label:"Ответ "+(a+1)}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"answer.answer"}})],1),n("el-form-item",{attrs:{label:"Правильный ответ"}},[n("el-checkbox",{model:{value:e.isCorrect,callback:function(n){t.$set(e,"isCorrect",n)},expression:"answer.isCorrect"}})],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:s.answers.length>1,expression:"testItem.answers.length > 1"}],staticStyle:{"margin-left":"20px"},attrs:{type:"danger",circle:"",title:"Удалить ответ",icon:"el-icon-delete"},on:{click:function(e){t.deleteAnswerHandler(s.answers,a)}}})],1)],1)],1)}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить ответ"},on:{click:function(e){t.addAnswerHandler(s.answers)}}},[t._v("\n                                                                        Добавить ответ\n                                                                    ")])],2)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",circle:"",title:"Удалить вопрос",icon:"el-icon-delete"},on:{click:function(n){t.deleteTestQuestionHandler(e.test,a)}}})],1)],1)],1)}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить вопрос в тест"},on:{click:function(n){t.addTestQuestionHandler(e.test)}}},[t._v("\n                                                    Добавить вопрос в тест\n                                                ")])],2)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",circle:"",title:"Удалить тест",icon:"el-icon-delete"},on:{click:function(n){t.deleteTestHandler(e)}}})],1)],1),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.test.length,expression:"!question.test.length"}],staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить тест"},on:{click:function(n){t.addTestQuestionHandler(e.test)}}},[t._v("\n                                    Добавить тест\n                                ")])],2)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.taskForm.questions.length>1,expression:"taskForm.questions.length > 1"}],staticStyle:{"margin-top":"20px"},attrs:{type:"danger",circle:"",icon:"el-icon-delete",title:"Удалить вопрос"},on:{click:function(e){t.deleteQuestionHandler(t.taskForm.questions,s)}}})],1)],1)}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:"",title:"Добавить вопрос"},on:{click:function(e){t.addQuestionHandler(t.taskForm.questions)}}},[t._v("\n                    Добавить вопрос\n                ")])],2)],1)],1),n("el-row",{staticStyle:{"margin-top":"30px"}},[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.createEditHandler()}}},[t._v(t._s(t.button))]),n("el-button",{on:{click:function(e){t.close()}}},[t._v("Отмена")])],1),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{type:"danger"},on:{click:function(e){t.deleteHandler()}}},[t._v("Удалить\n            ")])],1)],1)],1)},ae=[],ie=!1,oe=null,le=null,re=null,ce=Object(m["a"])(ne,se,ae,ie,oe,le,re),ue=ce.exports,de={components:{CreateEditTaskComponent:ue},props:{isEdit:{type:Boolean,default:!1}},computed:l()({},Object(r["c"])("tasks",["selectedTask"]))},pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CreateEditTaskComponent",{attrs:{task:t.isEdit?t.selectedTask:null,"is-edit":t.isEdit}})],1)},me=[],fe=!1,he=null,ge=null,ke=null,ve=Object(m["a"])(de,pe,me,fe,he,ge,ke),be=ve.exports;s["default"].use(P["a"]);var ye={app:new P["a"]({mode:"history",routes:[{path:"/pages",component:R,children:[{path:"/",name:"pages",component:J},{path:"create",name:"createPage",component:It,props:{isEdit:!1}},{path:"edit",name:"editPage",component:It,props:{isEdit:!0}},{path:"*",redirect:"/pages"}]},{path:"/blocks",component:R,children:[{path:"/",name:"blocks",component:at},{path:"create",name:"createBlock",component:Jt,props:{isEdit:!1}},{path:"edit",name:"editBlock",component:Jt,props:{isEdit:!0}},{path:"*",redirect:"/blocks"}]},{path:"/tasks",component:R,children:[{path:"/",name:"tasks",component:mt},{path:"create",name:"createTask",component:be,props:{isEdit:!1}},{path:"edit",name:"editTask",component:be,props:{isEdit:!0}},{path:"*",redirect:"/tasks"}]},{path:"*",redirect:"/pages"}]}),login:new P["a"]({mode:"history",routes:[{path:"*",redirect:"/login"},{path:"/login",name:"login"}]})},we={apiURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL||"http://localhost:5000",tokenName:"token"},xe=n("Z60a"),_e=n.n(xe),Te=n("C9uT"),Be=n.n(Te),Ee=n("mtWM"),$e=n.n(Ee),Se=we.apiURL,Pe=we.tokenName,je=window.localStorage.getItem(Pe),Ie=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e()(this,t),this.http=$e.a.create({baseURL:Se||e,headers:{common:l()({Authorization:je||""},n.common),post:l()({"Content-Type":"application/json"},n.post)}})}return Be()(t,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.get(t,{params:e,headers:n}).then(function(t){return t.data})}},{key:"post",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.post(t,e,{params:n,headers:s}).then(function(t){return t.data})}},{key:"put",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.put(t,e,{params:n,headers:s}).then(function(t){return t.data})}},{key:"patch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.http.patch(t,e,{params:n,headers:s}).then(function(t){return t.data})}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.delete(t,{params:e,headers:n}).then(function(t){return t.data})}}]),t}(),He=new Ie,Oe={namespaced:!0,state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{setUser:function(t,e){var n=t.commit;n("setUser",e)},signIn:function(t,e){return He.post("/auth/in",e).then(function(t){window.localStorage.setItem(we.tokenName,t),window.location="/"})}}},Ce=(n("WpTh"),new Ie),Ne={namespaced:!0,state:{selectedPageId:null,pages:[]},getters:{selectedPage:function(t){return t.pages.find(function(e){return e.id===t.selectedPageId})}},mutations:{setPages:function(t,e){t.pages=e},setSelectedPage:function(t,e){t.selectedPageId=e}},actions:{setPages:function(t,e){var n=t.commit;n("setPages",e)},setSelectedPage:function(t,e){var n=t.commit;n("setSelectedPage",e)},getPages:function(t){var e=t.dispatch;return Ce.get("/page").then(function(t){e("setPages",t)})},createPage:function(t){var e=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ce.put("/page",n).then(function(){e("getPages")})},editPage:function(t){var e=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.id,a=n.title;return Ce.patch("/page/".concat(s),{id:s,title:a}).then(function(){e("getPages")})},deletePage:function(t,e){var n=t.dispatch,s=e.id;return Ce.delete("/page/".concat(s)).then(function(){n("getPages")})}}},Fe=new Ie,qe={namespaced:!0,state:{selectedBlockId:null,blocks:[]},getters:{selectedBlock:function(t){return t.blocks.find(function(e){return e.id===t.selectedBlockId})}},mutations:{setBlocks:function(t,e){t.blocks=e},setSelectedBlock:function(t,e){t.selectedBlockId=e}},actions:{setBlocks:function(t,e){var n=t.commit;n("setBlocks",e)},setSelectedBlock:function(t,e){var n=t.commit;n("setSelectedBlock",e)},getBlocks:function(t){var e=t.dispatch;return Fe.get("/block").then(function(t){e("setBlocks",t)})},createBlock:function(t){var e=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Fe.put("/block",n).then(function(){e("getBlocks")})},editBlock:function(){var t=U()(regeneratorRuntime.mark(function t(e){var n,s,a,i,o,l=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,s=l.length>1&&void 0!==l[1]?l[1]:{},a=s.id,i=s.title,o=s.pageId,t.abrupt("return",Fe.patch("/block/".concat(a),{id:a,title:i,pageId:o}).then(function(){n("getBlocks")}));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteBlock:function(t,e){var n=t.dispatch,s=e.id,a=e.pageId;return Fe.delete("/block/".concat(s,"/from/").concat(a)).then(function(){n("getBlocks")})}}},Re=new Ie,Qe={namespaced:!0,state:{selectedTaskId:null,tasks:[]},getters:{selectedTask:function(t){return t.tasks.find(function(e){return e.id===t.selectedTaskId})}},mutations:{setTasks:function(t,e){t.tasks=e},setSelectedTask:function(t,e){t.selectedTaskId=e}},actions:{setTasks:function(t,e){var n=t.commit;n("setTasks",e)},setSelectedTask:function(t,e){var n=t.commit;n("setSelectedTask",e)},getTasks:function(t){var e=t.dispatch;return Re.get("/task").then(function(t){e("setTasks",t)})},createTask:function(t){var e=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Re.put("/task",n).then(function(){e("getTasks")})},editTask:function(){var t=U()(regeneratorRuntime.mark(function t(e){var n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,s=a.length>1&&void 0!==a[1]?a[1]:{},t.abrupt("return",Re.patch("/task/".concat(s.id),s).then(function(){n("getTasks")}));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteTask:function(t,e){var n=t.dispatch,s=e.id,a=e.taskId;return Re.delete("/task/".concat(s,"/from/").concat(a)).then(function(){n("getTasks")})}}};s["default"].use(r["a"]);var Ue=new r["a"].Store({modules:{user:Oe,pages:Ne,blocks:qe,tasks:Qe},state:{},mutations:{},actions:{}}),Ae=new Ie;s["default"].use(i.a),s["default"].config.productionTip=!1,Ae.get("/user").then(function(t){Ue.dispatch("user/setUser",t),new s["default"]({store:Ue,router:ye.app,render:function(t){return t(b)}}).$mount("#app")}).catch(function(t){console.error(t),new s["default"]({store:Ue,router:ye.login,render:function(t){return t(S)}}).$mount("#app")})},tvR6:function(t,e){}},[0]);
//# sourceMappingURL=app.3e8b4927.js.map